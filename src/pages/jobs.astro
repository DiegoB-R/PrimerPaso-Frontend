---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout>
  <span slot="title">Ofertas — PrimerPaso</span>

  <main class="container main-grid">
    <aside class="sidebar">
      <div id="studentProfileCard" class="card profile-card hidden">
        <div class="avatar" id="profileAvatar"></div>
        <h3 id="profileName"></h3>
        <p class="muted small" id="profileUni"></p>
        <a class="btn full primary" href="/perfiluser">Editar perfil</a>
      </div>
      <div class="card" style="margin-top: 24px;">
        <h4>Filtrar ofertas</h4>
        <label for="filterLocation" style="margin-top:12px;display:block;">Ubicación</label>
        <select id="filterLocation" style="width:100%;margin-top:4px;">
          <option value="">Cualquier lugar</option>
          <option value="remoto">Remoto</option>
          <option value="presencial">Presencial</option>
        </select>

        <label for="filterType" style="margin-top:12px;display:block;">Tipo de contrato</label>
        <select id="filterType" style="width:100%;margin-top:4px;">
          <option value="">Cualquiera</option>
          <option value="prácticas">Prácticas</option>
          <option value="tiempo parcial">Tiempo Parcial</option>
        </select>
      </div>
    </aside>
    <section class="feed">
      <div class="hero card">
        <h1>Bolsa de trabajo para estudiantes</h1>
        <div class="search-row" style="margin-top:12px;">
          <input id="searchInput" type="search" placeholder="Buscar: título, empresa..." />
          <button id="searchBtn" class="btn primary">Buscar</button>
        </div>
      </div>
      <div id="jobsList" class="jobs-list"></div>
    </section>
    <aside class="aside-right">
      <div class="card suggestions"><h4>Empresas destacadas</h4><ul><li>DataLabs</li><li>Creative Agency</li><li>FinTech Hub</li></ul></div>
      <div class="card tips"><h4>Consejos rápidos</h4><ol><li>Completa tu perfil al 100%.</li><li>Adapta tu CV a cada oferta.</li><li>Prepara tu portafolio.</li></ol></div>
    </aside>
  </main>

  <!-- Modal (hidden by default) -->
  <div id="modal" class="modal hidden" aria-hidden="true"><div class="modal-content"><button id="closeModal" class="modal-close">✕</button><div id="modalBody"></div></div></div>

  <script type="module" src="/js/app.js"></script>
</BaseLayout>

<style>
  .profile-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 20px;
    gap: 8px;
  }
  .profile-card .avatar {
    width: 64px; height: 64px; border-radius: 50%;
    background: linear-gradient(135deg,var(--terracota,#7c1d11),var(--morado,#4b2b88));
    color: #fff; display: flex; align-items: center; justify-content: center;
    font-weight: 700; font-size: 24px; margin-bottom: 8px;
  }
  .hidden { display: none; }
</style>
</BaseLayout>
